port:
  tcp:25:
    listening: true
    ip:
    - 0.0.0.0
  tcp6:22:
    listening: true
    ip:
    - '::'
  tcp:587:
    listening: true
    ip:
    - 0.0.0.0
  tcp6:587:
    listening: true
    ip:
    - '::'
  tcp:993:
    listening: true
    ip:
    - 0.0.0.0
  tcp6:993:
    listening: true
    ip:
    - '::'

service:
  courier-msa.service:
    enabled: true
    running: true
    skip: false

  courier-mta.service:
    enabled: true
    running: true
    skip: false

  courier-imapd-ssl.service:
    enabled: true
    running: true
    skip: false

file:
  /vmail:
    filetype: directory
    exists: true
    mode: 0755

  # /vmail/<name of the domain> check here
  {{ .Vars.mda.mail_path_host }}:
    filetype: directory
    exists: true
    mode: {{ .Vars.mda.mode }}


  # MTA
  {{ .Vars.mta.courierd_path_host }}:
    filetype: directory
    exists: true
    mode: 0755
    owner: root

  {{ .Vars.mta.courierd_path_host }}/msgq:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta.courierd_path_host }}/msgs:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta.courierd_path_host }}/msgfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta.courierd_path_host }}/allfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta.courierd_path_host }}/tmp:
    filetype: directory
    exists: true
    mode: 0770

  {{ .Vars.mta.courierd_path_host }}/track:
    filetype: directory
    exists: true
    mode: 0755
    


  # MTA_SSL
  {{ .Vars.mta_ssl.courierd_path_host }}:
    filetype: directory
    exists: true
    mode: 0755
    owner: root

  {{ .Vars.mta_ssl.courierd_path_host }}/msgq:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta_ssl.courierd_path_host }}/msgs:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta_ssl.courierd_path_host }}/msgfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta_ssl.courierd_path_host }}/allfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.mta_ssl.courierd_path_host }}/tmp:
    filetype: directory
    exists: true
    mode: 0770

  {{ .Vars.mta_ssl.courierd_path_host }}/track:
    filetype: directory
    exists: true
    mode: 0755


    
  # MSA
  {{ .Vars.msa.courierd_path_host }}:
    filetype: directory
    exists: true
    mode: 0755
    owner: root

  {{ .Vars.msa.courierd_path_host }}/msgq:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.msa.courierd_path_host }}/msgs:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.msa.courierd_path_host }}/msgfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.msa.courierd_path_host }}/allfilters:
    filetype: directory
    exists: true
    mode: 0750

  {{ .Vars.msa.courierd_path_host }}/tmp:
    filetype: directory
    exists: true
    mode: 0770

  {{ .Vars.msa.courierd_path_host }}/track:
    filetype: directory
    exists: true
    mode: 0755


    
